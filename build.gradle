apply plugin: 'play'
apply plugin: 'idea'
apply plugin: 'scala'

task wrapper(type: Wrapper) {
    gradleVersion = '3.5'
}

repositories {
    mavenCentral()
    flatDir {
        dirs 'libs'
    }
}

def playVersion = '2.5.14'
def scalaVersion = '2.11'

model {
    components {
        play {
            platform play: playVersion, scala: scalaVersion, java: '1.8'
            injectedRoutesGenerator = true

            sources {
                twirlTemplates {
                    defaultImports = TwirlImports.SCALA
                }
            }
        }
    }
}

dependencies {
    ['filters-helpers', 'play-logback'].each { playModule ->
        play "com.typesafe.play:${playModule}_$scalaVersion:$playVersion"
    }
    compile "org.scala-lang:scala-library:2.11.11"
    compile name: 'ojdbc8'
}

task buildUi(type: Exec) {
    workingDir './ui'

//    executable 'yarn'
//
//    args['install']
    //on windows:
    commandLine 'cmd', '/c', 'yarn install'
//
//    on linux
//    commandLine 'yarn install'

    //extension method stopTomcat.output() can be used to obtain the output:
}